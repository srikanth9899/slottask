import { usePerformanceEffect } from './performance-effect.esnext';
import { Stage } from './types.esnext';

function usePerformanceMark(stage, id) {
  usePerformanceEffect(performance => {
    if (stage === Stage.Complete) {
      performance.finish();
    } else if (stage === Stage.Usable) {
      performance.usable();
    }

    performance.mark(stage, id);
  }, [stage, id]);
}

export { usePerformanceMark };
