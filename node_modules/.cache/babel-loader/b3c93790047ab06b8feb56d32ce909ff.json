{"ast":null,"code":"var _jsxFileName = \"D:\\\\3.0 SRINIVAS-WORKS\\\\TEMP\\\\user-ui\\\\src\\\\bookings\\\\CreateBooking.js\",\n    _s = $RefreshSig$();\n\nimport axios from '../services';\nimport React, { useEffect, useRef, useState } from 'react';\nimport MainScreen from '../layouts/MainScreen';\nimport { Form, Button, Modal, Row, Col, Card, Alert } from \"react-bootstrap\";\nimport Loading from \"../components/Loading\";\nimport ErrorMessage from \"../components/ErrorMessage\";\nimport 'react-phone-number-input/style.css';\nimport PhoneInput from \"react-phone-number-input\";\nimport { BookIcon } from '../svgs';\nimport { CONTACT_EMAIL, PAYMENT_NUMBER } from '../config';\nimport { isPossibleNumber, isValidPhoneNumber } from 'libphonenumber-js';\nimport { addBooking } from '../services/booking';\nimport { useMetrics } from '@cabify/prom-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CreateBooking() {\n  _s();\n\n  const {\n    observe\n  } = useMetrics();\n  const [bookingInfo, setBookingInfo] = useState({\n    name: '',\n    email: '',\n    phonenumber: '',\n    location: '',\n    servicetype: 'Career Consulting'\n  });\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [pic, setPic] = useState([null, null]);\n  const [showModal, setShowModal] = useState(false);\n  const [phoneMessage, setPhoneMessage] = useState('');\n  const fileRef = useRef('');\n  const [showSuccess, setShowSuccess] = useState(false);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    observe('bookings_event', {\n      custom_tag: 'booking_event'\n    }, 1);\n\n    if (!isPossibleNumber(bookingInfo.phonenumber) || !isValidPhoneNumber(bookingInfo.phonenumber)) {\n      setPhoneMessage('Enter valid Number.');\n      return;\n    }\n\n    setShowModal(true);\n  };\n\n  const createBooking = async () => {\n    console.log('Booking');\n    setShowModal(false);\n    setLoading(true);\n    let formData = new FormData();\n    const {\n      name,\n      email,\n      phonenumber,\n      location,\n      servicetype,\n      ip\n    } = bookingInfo;\n    formData.append('name', name);\n    formData.append('email', email);\n    formData.append('phonenumber', phonenumber);\n    formData.append('servicetype', servicetype);\n    formData.append('location', location);\n    formData.append('ip', ip);\n    formData.append('image', pic[0]);\n    addBooking(formData).then(() => {\n      setLoading(false);\n      setShowSuccess(true);\n      setBookingInfo({ ...bookingInfo,\n        name: '',\n        email: '',\n        phonenumber: '',\n        servicetype: 'Career Consulting'\n      });\n      setPic([null, null]);\n      fileRef.current.value = '';\n      setTimeout(() => {\n        setShowSuccess(false);\n      }, 10000);\n    }).catch(error => {\n      setLoading(false);\n      setError(error.response.data.message);\n      setTimeout(() => {\n        setError('');\n      }, 10000);\n    });\n  };\n\n  const getLocation = () => {\n    axios.get('http://ip-api.com/json').then(data => {\n      setBookingInfo({ ...bookingInfo,\n        location: data.data.city + ', ' + data.data.regionName + ', ' + data.data.countryCode,\n        ip: data.data.query\n      });\n    });\n  };\n\n  const postDetails = pics => {\n    let reader = new FileReader();\n\n    reader.onloadend = () => {\n      setPic([pics, reader.result]);\n    };\n\n    reader.readAsDataURL(pics);\n  };\n\n  useEffect(() => {\n    getLocation();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(MainScreen, {\n    title: \"Book Your Slot\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: \"justify-content-center px-2\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        md: 8,\n        xs: 12,\n        className: \"position-relative\",\n        children: [showSuccess && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"success\",\n          children: [/*#__PURE__*/_jsxDEV(Alert.Heading, {\n            children: [/*#__PURE__*/_jsxDEV(BookIcon, {\n              className: \"mx-2\",\n              style: {\n                width: 15\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 30\n            }, this), \"Booked..\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Your booking is confirmed. Somebody from the team contact you soon.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 28\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          className: \"shadow p-4\",\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loginContainer\",\n              children: [error && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                variant: \"danger\",\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(Form, {\n                className: \"row\",\n                onSubmit: e => submitHandler(e),\n                children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-2 col-9\",\n                  controlId: \"name\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"name\",\n                    required: true,\n                    value: bookingInfo.name,\n                    placeholder: \"Enter name\",\n                    onChange: e => setBookingInfo({ ...bookingInfo,\n                      name: e.target.value\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-2 col-6\",\n                  controlId: \"email\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Email address\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"email\",\n                    required: true,\n                    value: bookingInfo.email,\n                    placeholder: \"Enter email\",\n                    onChange: e => setBookingInfo({ ...bookingInfo,\n                      email: e.target.value\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-2 col-6\",\n                  controlId: \"phone\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Phone Number\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(PhoneInput, {\n                    required: true,\n                    defaultCountry: \"US\",\n                    className: \"px-2 form-control\",\n                    numberInputProps: {\n                      className: 'border-0',\n                      style: {\n                        'outline': 'none'\n                      }\n                    },\n                    placeholder: \"Enter phone number\",\n                    value: bookingInfo.phonenumber,\n                    onChange: val => {\n                      setBookingInfo({ ...bookingInfo,\n                        phonenumber: val\n                      });\n                      setPhoneMessage('');\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                    className: \"text-danger\",\n                    children: phoneMessage\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-2 col-6\",\n                  controlId: \"service\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Service Type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    as: \"select\",\n                    type: \"select\",\n                    required: true,\n                    value: bookingInfo.servicetype,\n                    onChange: e => {\n                      setBookingInfo({ ...bookingInfo,\n                        servicetype: e.target.value\n                      });\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      children: \"Career Consulting\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 175,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      children: \"Mock Interview\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 176,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      children: \"Devops Consulting\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      disabled: true,\n                      children: \"Job support will not ne entertained\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 178,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                    className: \"text-muted\",\n                    children: [\"Payment can be done via Phonepe, G-Pay to \", PAYMENT_NUMBER, \".\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 181,\n                      columnNumber: 82\n                    }, this), \"Through PayPal send it to DeekshithSN\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"col-6\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Cost\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Card, {\n                    children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                      className: \"bg-light\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: \"Career Consulting ( 1hour ) - $8 / \\u20B9500\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 189,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: \"Mock Interview ( 1hour ) -  $8 / \\u20B9500\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 190,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: \"Devops Consulting ( 1hour ) - $8 / \\u20B9500\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 191,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 188,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-2 col-9\",\n                  controlId: \"location\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Location\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    disabled: true,\n                    type: \"text\",\n                    value: bookingInfo.location,\n                    placeholder: \"Enter your location\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-2 col-9\",\n                  controlId: \"formFile\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Upload Payment Screenshot\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    accept: \"image/png,image/jpeg\",\n                    required: true,\n                    type: \"file\",\n                    onChange: e => postDetails(e.target.files[0]),\n                    ref: fileRef,\n                    label: \"Upload Payment Screenshot\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex align-items-center justify-content-center mt-2\",\n                  children: [loading && /*#__PURE__*/_jsxDEV(Loading, {\n                    className: \"mt-1 px-2\",\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"primary\",\n                    type: \"submit\",\n                    className: \"w-50\",\n                    children: \"Submit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-2\",\n      children: [\"For any further queries contact \", /*#__PURE__*/_jsxDEV(\"a\", {\n        style: {\n          textDecoration: 'none'\n        },\n        href: `mailto:${CONTACT_EMAIL}`,\n        children: CONTACT_EMAIL\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 41\n      }, this), \" or 7975977658\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      onHide: setShowModal,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Confirm Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 5,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"py-2 text-right text-secondary\",\n              children: \"Name: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"py-2 text-right text-secondary\",\n              children: \"Email: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"py-2 text-right text-secondary\",\n              children: \"Phone: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"py-2 text-right text-secondary\",\n              children: \"Service: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"py-2 text-right text-secondary\",\n              children: \"Location: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"py-2 text-right text-secondary\",\n              children: \"Payment Screenshot: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: 7,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"py-2\",\n              children: bookingInfo.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"py-2\",\n              children: bookingInfo.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"py-2\",\n              children: bookingInfo.phonenumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"py-2\",\n              children: bookingInfo.servicetype\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"py-2\",\n              children: bookingInfo.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"py-2\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: pic[1],\n                alt: \"Payment Screenshot\",\n                width: 250\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: \"px-4\",\n          variant: \"secondary\",\n          onClick: () => setShowModal(false),\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"px-4\",\n          variant: \"primary\",\n          onClick: () => createBooking(),\n          children: \"Proceed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CreateBooking, \"KrRLfR0aOgMd4vq3wAIdP/bmVOQ=\", false, function () {\n  return [useMetrics];\n});\n\n_c = CreateBooking;\nexport default CreateBooking;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateBooking\");","map":{"version":3,"sources":["D:/3.0 SRINIVAS-WORKS/TEMP/user-ui/src/bookings/CreateBooking.js"],"names":["axios","React","useEffect","useRef","useState","MainScreen","Form","Button","Modal","Row","Col","Card","Alert","Loading","ErrorMessage","PhoneInput","BookIcon","CONTACT_EMAIL","PAYMENT_NUMBER","isPossibleNumber","isValidPhoneNumber","addBooking","useMetrics","CreateBooking","observe","bookingInfo","setBookingInfo","name","email","phonenumber","location","servicetype","error","setError","loading","setLoading","pic","setPic","showModal","setShowModal","phoneMessage","setPhoneMessage","fileRef","showSuccess","setShowSuccess","submitHandler","e","preventDefault","custom_tag","createBooking","console","log","formData","FormData","ip","append","then","current","value","setTimeout","catch","response","data","message","getLocation","get","city","regionName","countryCode","query","postDetails","pics","reader","FileReader","onloadend","result","readAsDataURL","width","target","className","style","val","files","textDecoration"],"mappings":"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","sourcesContent":["import axios from '../services';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport MainScreen from '../layouts/MainScreen';\r\nimport { Form, Button, Modal, Row, Col, Card, Alert } from \"react-bootstrap\";\r\nimport Loading from \"../components/Loading\";\r\nimport ErrorMessage from \"../components/ErrorMessage\";\r\nimport 'react-phone-number-input/style.css'\r\nimport PhoneInput from \"react-phone-number-input\";\r\nimport { BookIcon } from '../svgs';\r\nimport { CONTACT_EMAIL, PAYMENT_NUMBER } from '../config';\r\nimport { isPossibleNumber, isValidPhoneNumber } from 'libphonenumber-js';\r\nimport { addBooking } from '../services/booking';\r\nimport { useMetrics } from '@cabify/prom-react';\r\n\r\nfunction CreateBooking() {\r\n  const { observe } = useMetrics();\r\n\r\n  const [bookingInfo, setBookingInfo] = useState({\r\n    name: '',\r\n    email: '',\r\n    phonenumber: '',\r\n    location: '',\r\n    servicetype: 'Career Consulting'\r\n  })\r\n  const [error, setError] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [pic, setPic] = useState([null, null]);\r\n  const [showModal, setShowModal] = useState(false)\r\n  const [phoneMessage, setPhoneMessage] = useState('')\r\n\r\n  const fileRef = useRef('')\r\n\r\n  const [showSuccess, setShowSuccess] = useState(false)\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault()\r\n    observe('bookings_event', { custom_tag: 'booking_event' }, 1);\r\n    if (!isPossibleNumber(bookingInfo.phonenumber) || !isValidPhoneNumber(bookingInfo.phonenumber)) {\r\n      setPhoneMessage('Enter valid Number.')\r\n      return;\r\n    }\r\n    setShowModal(true)\r\n  };\r\n\r\n\r\n\r\n  const createBooking = async () => {\r\n    console.log('Booking')\r\n    setShowModal(false)\r\n    setLoading(true);\r\n    let formData = new FormData()\r\n    const { name, email, phonenumber, location, servicetype, ip } = bookingInfo\r\n    formData.append('name', name)\r\n    formData.append('email', email)\r\n    formData.append('phonenumber', phonenumber)\r\n    formData.append('servicetype', servicetype)\r\n    formData.append('location', location)\r\n    formData.append('ip', ip)\r\n    formData.append('image', pic[0])\r\n  \r\n    addBooking(formData)\r\n      .then(() => {\r\n        setLoading(false);\r\n        setShowSuccess(true)\r\n        setBookingInfo({\r\n          ...bookingInfo,\r\n          name: '',\r\n          email: '',\r\n          phonenumber: '',\r\n          servicetype: 'Career Consulting',\r\n        })\r\n        setPic([null, null])\r\n        fileRef.current.value = ''\r\n        setTimeout(() => {\r\n          setShowSuccess(false)\r\n        }, 10000);\r\n      }).catch((error) => {\r\n        setLoading(false);\r\n        setError(error.response.data.message);\r\n        setTimeout(() => {\r\n          setError('')\r\n        }, 10000);\r\n      })\r\n\r\n  \r\n  }\r\n\r\n\r\n  const getLocation = () => {\r\n    axios.get('http://ip-api.com/json')\r\n      .then((data) => {\r\n        setBookingInfo({ ...bookingInfo, location: data.data.city + ', ' + data.data.regionName + ', ' + data.data.countryCode, ip: data.data.query })\r\n      });\r\n  }\r\n\r\n  const postDetails = (pics) => {\r\n    let reader = new FileReader()\r\n    reader.onloadend = () => {\r\n      setPic([pics, reader.result])\r\n    }\r\n    reader.readAsDataURL(pics)\r\n  };\r\n\r\n  useEffect(() => {\r\n    getLocation()\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <MainScreen title=\"Book Your Slot\">\r\n      <Row className='justify-content-center px-2'>\r\n        <Col md={8} xs={12} className=\"position-relative\">\r\n          {\r\n\r\n            showSuccess && <Alert variant=\"success\">\r\n              <Alert.Heading><BookIcon className=\"mx-2\" style={{ width: 15 }} />Booked..</Alert.Heading>\r\n              <p>\r\n                Your booking is confirmed. Somebody from the team contact you soon.\r\n              </p>\r\n            </Alert>\r\n          }\r\n          <Card className='shadow p-4'>\r\n            <Card.Body>\r\n              <div className='loginContainer'>\r\n                {error && <ErrorMessage variant=\"danger\">{error}</ErrorMessage>}\r\n                <Form className='row' onSubmit={(e) => submitHandler(e)}>\r\n                  <Form.Group className='mb-2 col-9' controlId=\"name\">\r\n                    <Form.Label>Name</Form.Label>\r\n                    <Form.Control\r\n                      type=\"name\"\r\n                      required={true}\r\n                      value={bookingInfo.name}\r\n                      placeholder=\"Enter name\"\r\n                      onChange={(e) => setBookingInfo({ ...bookingInfo, name: e.target.value })}\r\n                    />\r\n                  </Form.Group>\r\n\r\n                  <Form.Group className='mb-2 col-6' controlId=\"email\">\r\n                    <Form.Label>Email address</Form.Label>\r\n                    <Form.Control\r\n                      type=\"email\"\r\n                      required={true}\r\n                      value={bookingInfo.email}\r\n                      placeholder=\"Enter email\"\r\n                      onChange={(e) => setBookingInfo({ ...bookingInfo, email: e.target.value })}\r\n                    />\r\n                  </Form.Group>\r\n\r\n                  <Form.Group className='mb-2 col-6' controlId=\"phone\">\r\n                    <Form.Label>Phone Number</Form.Label>\r\n                    <PhoneInput\r\n                      required={true}\r\n                      defaultCountry='US'\r\n                      className='px-2 form-control'\r\n                      numberInputProps={{ className: 'border-0', style: { 'outline': 'none' } }}\r\n                      placeholder=\"Enter phone number\"\r\n                      value={bookingInfo.phonenumber}\r\n                      onChange={(val) => {\r\n                        setBookingInfo({ ...bookingInfo, phonenumber: val })\r\n                        setPhoneMessage('')\r\n                      }} />\r\n                    <Form.Text className='text-danger'>{phoneMessage}</Form.Text>\r\n                  </Form.Group>\r\n\r\n                  <Form.Group className='mb-2 col-6' controlId=\"service\">\r\n                    <Form.Label>Service Type</Form.Label>\r\n                    <Form.Control as=\"select\"\r\n                      type=\"select\"\r\n                      required={true}\r\n                      value={bookingInfo.servicetype}\r\n                      onChange={e => {\r\n                        setBookingInfo({ ...bookingInfo, servicetype: e.target.value });\r\n                      }}\r\n                    >\r\n                      <option>Career Consulting</option>\r\n                      <option>Mock Interview</option>\r\n                      <option>Devops Consulting</option>\r\n                      <option disabled>Job support will not ne entertained</option>\r\n                    </Form.Control>\r\n                    <Form.Text className=\"text-muted\">\r\n                      Payment can be done via Phonepe, G-Pay to {PAYMENT_NUMBER}.<br />\r\n                      Through PayPal send it to DeekshithSN\r\n                    </Form.Text>\r\n                  </Form.Group>\r\n                  <Form.Group className='col-6'>\r\n                    <Form.Label>Cost</Form.Label>\r\n                    <Card>\r\n                      <Card.Body className='bg-light'>\r\n                        <div>Career Consulting ( 1hour ) - $8 / ₹500</div>\r\n                        <div>Mock Interview ( 1hour ) -  $8 / ₹500</div>\r\n                        <div>Devops Consulting ( 1hour ) - $8 / ₹500</div>\r\n                      </Card.Body>\r\n                    </Card>\r\n                  </Form.Group>\r\n                  <Form.Group className='mb-2 col-9' controlId=\"location\">\r\n                    <Form.Label>Location</Form.Label>\r\n                    <Form.Control\r\n                      disabled={true}\r\n                      type=\"text\"\r\n                      value={bookingInfo.location}\r\n                      placeholder=\"Enter your location\"\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Group className='mb-2 col-9' controlId=\"formFile\">\r\n                    <Form.Label>Upload Payment Screenshot</Form.Label>\r\n                    <Form.Control accept='image/png,image/jpeg' required={true} type=\"file\"\r\n                      onChange={(e) => postDetails(e.target.files[0])} ref={fileRef}\r\n                      label=\"Upload Payment Screenshot\"\r\n                    />\r\n                  </Form.Group>\r\n                  <div className='d-flex align-items-center justify-content-center mt-2'>\r\n                    {loading && <Loading className=\"mt-1 px-2\" size={20} />}\r\n                    <Button variant=\"primary\" type=\"submit\" className='w-50'>\r\n                      Submit\r\n                    </Button>\r\n                  </div>\r\n                </Form>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n\r\n        </Col>\r\n      </Row>\r\n      <div className='text-center py-2'>\r\n        For any further queries contact <a style={{ textDecoration: 'none' }} href={`mailto:${CONTACT_EMAIL}`}>{CONTACT_EMAIL}</a> or 7975977658\r\n      </div>\r\n      <Modal show={showModal} onHide={setShowModal}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Confirm Details</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Row>\r\n            <Col md={5}>\r\n              <div className=\"py-2 text-right text-secondary\">Name: </div>\r\n              <div className=\"py-2 text-right text-secondary\">Email: </div>\r\n              <div className=\"py-2 text-right text-secondary\">Phone: </div>\r\n              <div className=\"py-2 text-right text-secondary\">Service: </div>\r\n              <div className=\"py-2 text-right text-secondary\">Location: </div>\r\n              <div className=\"py-2 text-right text-secondary\">Payment Screenshot: </div>\r\n            </Col>\r\n            <Col md={7}>\r\n              <div className=\"py-2\">{bookingInfo.name}</div>\r\n              <div className=\"py-2\">{bookingInfo.email}</div>\r\n              <div className=\"py-2\">{bookingInfo.phonenumber}</div>\r\n              <div className=\"py-2\">{bookingInfo.servicetype}</div>\r\n              <div className=\"py-2\">{bookingInfo.location}</div>\r\n              <div className=\"py-2\"><img src={pic[1]} alt='Payment Screenshot' width={250} /></div>\r\n            </Col>\r\n          </Row>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button className='px-4' variant=\"secondary\" onClick={() => setShowModal(false)}>\r\n            Edit\r\n          </Button>\r\n          <Button className='px-4' variant=\"primary\" onClick={() => createBooking()}>\r\n            Proceed\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </MainScreen>\r\n  )\r\n}\r\n\r\nexport default CreateBooking;\r\n"]},"metadata":{},"sourceType":"module"}